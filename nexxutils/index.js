(function(exports,plugin,components,common,ui,_vendetta,metro,assets,toasts,patcher,alerts,utils){"use strict";var _findByProps,_findByProps1,_findByProps2,_findByProps3,_findByProps4;const ThemeStore$1=metro.findByStoreName("ThemeStore");metro.findByProps("triggerHaptic");const colorModule=metro.findByProps("colors","unsafe_rawColors"),colorResolver=colorModule?.internal??colorModule?.meta,TextStyleSheet=metro.findByProps("TextStyleSheet").TextStyleSheet,ActionSheet$1=((_findByProps=metro.findByProps("ActionSheet"))===null||_findByProps===void 0?void 0:_findByProps.ActionSheet)??metro.find(function(x){var _x_render;return((_x_render=x.render)===null||_x_render===void 0?void 0:_x_render.name)==="ActionSheet"}),LazyActionSheet=metro.findByProps("openLazy","hideActionSheet"),{openLazy,hideActionSheet}=LazyActionSheet,{ActionSheetTitleHeader,ActionSheetCloseButton,ActionSheetContentContainer}=metro.findByProps("ActionSheetTitleHeader","ActionSheetCloseButton","ActionSheetContentContainer");(_findByProps1=metro.findByProps("ActionSheetRow"))===null||_findByProps1===void 0||_findByProps1.ActionSheetRow;const Navigator=metro.findByName("Navigator")??((_findByProps2=metro.findByProps("Navigator"))===null||_findByProps2===void 0?void 0:_findByProps2.Navigator),modalCloseButton=((_findByProps3=metro.findByProps("getRenderCloseButton"))===null||_findByProps3===void 0?void 0:_findByProps3.getRenderCloseButton)??((_findByProps4=metro.findByProps("getHeaderCloseButton"))===null||_findByProps4===void 0?void 0:_findByProps4.getHeaderCloseButton),{popModal,pushModal}=metro.findByProps("popModal","pushModal"),resolveCustomSemantic=function(dark,light){return ThemeStore$1.theme!=="light"?dark:light},lerp=function(og,target,perc){const hex2rgb=function(hex){var _hex_match;return((_hex_match=hex.match(/\w\w/g))===null||_hex_match===void 0?void 0:_hex_match.map(function(x){return parseInt(x,16)}))??[0,0,0]},rgb2hex=function(rgb){return`#${rgb.map(function(x){return x.toString(16).padStart(2,"0")}).join("")}`},ogR=hex2rgb(og),targetR=hex2rgb(target),result=ogR.map(function(ogC,i){return Math.round(ogC+(targetR[i]-ogC)*perc)});return rgb2hex(result)};function resolveSemanticColor(color){let theme=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ThemeStore$1.theme;return colorResolver.resolveSemanticColor(theme,color)}function getUserAvatar(user,animated){const isPomelo=user.discriminator==="0";return user.avatar?`https://cdn.discordapp.com/avatars/${user.id}/${user.avatar.startsWith("a_")?`${user.avatar}.gif`:`${user.avatar}.png`}`:`https://cdn.discordapp.com/embed/avatars/${isPomelo?(parseInt(user.id)>>22)%6:parseInt(user.discriminator)%5}`}function openSheet(sheet,props){try{openLazy(new Promise(function(x){return x({default:sheet})}),"ActionSheet",props)}catch(e){_vendetta.logger.error(e.stack),toasts.showToast("Got error when opening ActionSheet! Please check debug logs",assets.getAssetIDByName("Smal"))}}function openModal(key,modal){const empty=Symbol("empty");if(!Navigator||!modalCloseButton)return toasts.showToast(`${[Navigator?empty:"Navigator",modalCloseButton?empty:"modalCloseButton"].filter(function(x){return x!==empty}).join(", ")} is missing! Please try reinstalling your client.`,assets.getAssetIDByName("Small"));pushModal({key,modal:{key,modal,animation:"slide-up",shouldPersistUnderModals:!1,closable:!0}})}const{Text:_Text}=components.General;function Text(param){let{variant,lineClamp,color,align,style,onPress,getChildren,children,liveUpdate}=param;const[_,forceUpdate]=common.React.useReducer(function(x){return~x},0);return common.React.useEffect(function(){if(!liveUpdate)return;const nextSecond=new Date().setMilliseconds(1e3);let interval;const timeout=setTimeout(function(){forceUpdate(),interval=setInterval(forceUpdate,1e3)},nextSecond-Date.now());return function(){clearTimeout(timeout),clearInterval(interval)}},[]),common.React.createElement(_Text,{style:[variant?TextStyleSheet[variant]:{},color?{color:resolveSemanticColor(ui.semanticColors[color])}:{},align?{textAlign:align}:{},style??{}],numberOfLines:lineClamp,onPress},getChildren?.()??children)}const{View:View$4,Pressable:Pressable$1}=components.General;function BetterTableRowTitle(param){let{title,onPress,icon,padding}=param;const styles2=common.stylesheet.createThemedStyleSheet({androidRipple:{color:ui.semanticColors.ANDROID_RIPPLE,cornerRadius:4},icon:{width:16,height:16,marginTop:1.5,tintColor:ui.semanticColors.TEXT_MUTED}}),UseCompontent=onPress?Pressable$1:View$4;return React.createElement(UseCompontent,{android_ripple:styles2.androidRipple,onPress,style:{marginBottom:8,marginHorizontal:padding?16:0,marginTop:padding?8:0,gap:4,flexDirection:"row",alignItems:"center"}},icon&&React.createElement(common.ReactNative.Image,{style:styles2.icon,source:icon,resizeMode:"cover"}),React.createElement(Text,{variant:"text-sm/semibold",color:"TEXT_MUTED"},title))}function BetterTableRowGroup(param){let{title,onTitlePress,icon,children,padding,nearby}=param;const styles2=common.stylesheet.createThemedStyleSheet({main:{backgroundColor:ui.semanticColors.CARD_PRIMARY_BG,borderColor:ui.semanticColors.BORDER_FAINT,borderWidth:1,borderRadius:16,overflow:"hidden",flex:1}});return React.createElement(View$4,{style:{marginHorizontal:16,marginTop:nearby?8:16}},title?typeof title=="string"?React.createElement(BetterTableRowTitle,{title,onPress:onTitlePress,icon}):title:null,React.createElement(View$4,{style:styles2.main},padding?React.createElement(View$4,{style:{paddingHorizontal:16,paddingVertical:16}},children):children))}const AnimatedPressable$1=common.ReactNative.Animated.createAnimatedComponent(common.ReactNative.Pressable);function TextButton(param){let{label,color,disabled,loading,onPress}=param;const rawVal={BRAND:ui.rawColors.BRAND_500,DANGER:ui.rawColors.RED_500,POSITIVE:ui.rawColors.GREEN_500,PRIMARAY:ui.rawColors.PRIMARY_500,NORMAL:ui.rawColors.PRIMARY_500}[color],bleh=resolveCustomSemantic(lerp(rawVal,"#FFFFFF",.25),lerp(rawVal,"#000000",.15)),styles2=common.stylesheet.createThemedStyleSheet({container:{alignItems:"baseline",paddingHorizontal:12,paddingVertical:10,borderRadius:2147483647},inactive:{backgroundColor:`${bleh}00`},active:{backgroundColor:`${bleh}14`}}),enabled=!loading&&!disabled,[isPressing,setIsPressing]=common.React.useState(!1),pressVal=common.React.useRef(new common.ReactNative.Animated.Value(isPressing?1:0)).current;return common.React.useEffect(function(){common.ReactNative.Animated.timing(pressVal,{toValue:isPressing?1:0,duration:100,easing:common.ReactNative.Easing.linear,useNativeDriver:!0}).start()},[isPressing]),common.React.createElement(AnimatedPressable$1,{style:[styles2.container,enabled&&{backgroundColor:pressVal.interpolate({inputRange:[0,1],outputRange:[styles2.inactive.backgroundColor,styles2.active.backgroundColor]})}],onPressIn:function(){return setIsPressing(!0)},onPressOut:function(){return setIsPressing(!1)},onPress:function(){return enabled&&onPress?.()},accessibilityRole:"button",accessibilityState:{disabled:!enabled},accessible:enabled,collapsable:!1,disabled:!enabled,pointerEvents:enabled?"box-only":"none"},loading?common.React.createElement(common.ReactNative.ActivityIndicator,{size:"small",color:resolveSemanticColor(ui.semanticColors[`TEXT_${color}`])}):common.React.createElement(Text,{variant:"text-md/semibold",color:enabled?`TEXT_${color}`:"TEXT_MUTED"},label))}const Alerts=metro.findByProps("openLazy","close");function CustomDialog(param){let{title,body,children,confirmColor,confirmText,onConfirm,isConfirmButtonDisabled,cancelText,onCancel,secondaryConfirmText,onConfirmSecondary}=param;const isSpecial=isConfirmButtonDisabled!==void 0,[loader,setLoader]=common.React.useState({confirm:!1,cancel:!1,secondaryConfirm:!1}),styles2=common.stylesheet.createThemedStyleSheet({container:{backgroundColor:ui.semanticColors.CARD_PRIMARY_BG,borderRadius:28,flexDirection:"column",width:common.ReactNative.Dimensions.get("window").width*.85},textContent:{width:"100%",flexDirection:"column",gap:16,paddingHorizontal:24,paddingTop:24},actions:{width:"100%",flexDirection:"row-reverse",flexWrap:"wrap",gap:8,paddingLeft:8,marginRight:-24,paddingVertical:24}}),empty=Symbol("empty"),things=[{color:{brand:"BRAND",red:"DANGER",green:"POSITIVE",primary:"PRIMARY",transparent:"NORMAL",grey:"NORMAL",lightgrey:"NORMAL",white:"NORMAL",link:"NORMAL"}[confirmColor]??"BRAND",text:confirmText??"Confirm",action:onConfirm,base:!0,loading:"confirm"},cancelText?{color:"BRAND",text:cancelText,action:onCancel,base:!1,loading:"cancel"}:empty,secondaryConfirmText?{color:"BRAND",text:secondaryConfirmText,action:onConfirmSecondary,base:!1,loading:"secondaryConfirm"}:empty].filter(function(x){return x!==empty});return common.React.createElement(common.ReactNative.View,{style:styles2.container},common.React.createElement(common.ReactNative.View,{style:styles2.textContent},common.React.createElement(Text,{variant:"text-lg/semibold",color:"TEXT_NORMAL"},title),children?common.React.createElement(common.ReactNative.View,{style:{padding:0}},children):common.React.createElement(Text,{variant:"text-md/semibold",color:"TEXT_NORMAL"},body)),common.React.createElement(common.ReactNative.View,{style:styles2.actions},things.map(function(x){return common.React.createElement(TextButton,{color:x.color,label:x.text,disabled:x.base&&isConfirmButtonDisabled,loading:loader[x.loading],onPress:async function(){if(setLoader({...loader,[x.loading]:!0}),"action"in x&&isSpecial)await x.action().catch(function(){}),setLoader({...loader,[x.loading]:!1});else{var _x_action;(_x_action=x.action)===null||_x_action===void 0||_x_action.call(x),Alerts.close()}}})})))}function CustomToast(props){const styles2=common.stylesheet.createThemedStyleSheet({container:{backgroundColor:ui.semanticColors.CARD_PRIMARY_BG,width:344,minHeight:48,borderRadius:4,paddingHorizontal:16,paddingVertical:14,flexDirection:"row"},iconContainer:{alignSelf:"flex-end",width:48,height:"100%",justifyContent:"center",alignItems:"center"},icon:{width:24,height:24},shadow:{shadowColor:"#000",shadowOffset:{width:0,height:12},shadowOpacity:.58,shadowRadius:16,elevation:24}}),img=props.source??props.icon,Content=typeof props.content=="function"?props.content:function(){return props.content??null},Image=img&&(typeof img=="function"?img:function(){return React.createElement(common.ReactNative.Image,{source:img,style:styles2.icon,resizeMode:"contain"})});return React.createElement(common.ReactNative.View,{style:[styles2.container,styles2.shadow]},React.createElement(Text,{variant:"text-md/semibold",color:"TEXT_NORMAL",style:{width:280}},React.createElement(Content,null)),img&&React.createElement(common.ReactNative.View,{style:styles2.iconContainer},React.createElement(Image,null)))}const AnimatedPressable=common.ReactNative.Animated.createAnimatedComponent(common.ReactNative.Pressable);function CustomSwitch(param){let{disabled,onValueChange,style,value}=param;const containerSize={width:52,height:32},styles2={all:common.stylesheet.createThemedStyleSheet({container:{...containerSize,flexGrow:0,flexShrink:0,borderRadius:64,borderWidth:2,padding:2},ballBox:{height:"100%",aspectRatio:1},ball:{borderRadius:2147483647,width:"100%",height:"100%"}}),activity:common.stylesheet.createThemedStyleSheet({containerInactive:{backgroundColor:resolveCustomSemantic(ui.rawColors.PRIMARY_600,ui.rawColors.PRIMARY_200),borderColor:resolveCustomSemantic(ui.rawColors.WHITE_630,ui.rawColors.BLACK_330)},containerActive:{backgroundColor:resolveCustomSemantic(lerp(ui.rawColors.BRAND_500,"#FFFFFF",.15),lerp(ui.rawColors.BRAND_500,"#000000",.2))},ballInactive:{backgroundColor:resolveCustomSemantic(ui.rawColors.WHITE_630,ui.rawColors.BRAND_330)},ballActive:{backgroundColor:resolveCustomSemantic(lerp(ui.rawColors.BRAND_500,"#000000",.65),ui.rawColors.WHITE_500)}}),disabled:common.stylesheet.createThemedStyleSheet({containerInactiveDisabled:{backgroundColor:`${resolveCustomSemantic(ui.rawColors.WHITE_800,ui.rawColors.PRIMARY_200)}1f`,borderColor:`${resolveCustomSemantic(ui.rawColors.WHITE_800,ui.rawColors.PRIMARY_200)}1f`},containerActiveDisabled:{backgroundColor:`${resolveCustomSemantic(ui.rawColors.PRIMARY_200,ui.rawColors.PRIMARY_730)}1f`},ballActiveDisabled:{backgroundColor:resolveCustomSemantic(ui.rawColors.PRIMARY_800,ui.rawColors.PRIMARY_100)},ballInactiveDisabled:{backgroundColor:resolveCustomSemantic(ui.rawColors.PRIMARY_200,ui.rawColors.PRIMARY_730)}})},[isPressing,setPressing]=common.React.useState(!1),ballPosVal=common.React.useRef(new common.ReactNative.Animated.Value(value?1:0)).current,pressScales={inactive:16/24,pressed:28/24},pressVal=common.React.useRef(new common.ReactNative.Animated.Value(value?1:pressScales.inactive)).current,toggle=function(){onValueChange?.(!value)},updatePressVal=function(){common.ReactNative.Animated.timing(pressVal,{toValue:value?1:pressScales.inactive,duration:150,easing:common.ReactNative.Easing.bezier(.05,.7,.1,1),useNativeDriver:!0}).start()};return common.React.useEffect(function(){common.ReactNative.Animated.timing(ballPosVal,{toValue:value?1:0,duration:200,easing:common.ReactNative.Easing.bezier(0,0,0,1),useNativeDriver:!0}).start(),updatePressVal()},[value]),common.React.useEffect(function(){return updatePressVal()},[isPressing]),common.React.createElement(AnimatedPressable,{style:[styles2.all.container,{backgroundColor:ballPosVal.interpolate({inputRange:[0,1],outputRange:disabled?[styles2.disabled.containerInactiveDisabled.backgroundColor,styles2.disabled.containerActiveDisabled.backgroundColor]:[styles2.activity.containerInactive.backgroundColor,styles2.activity.containerActive.backgroundColor]}),borderColor:ballPosVal.interpolate({inputRange:[0,1],outputRange:disabled?[styles2.disabled.containerInactiveDisabled.borderColor,styles2.disabled.containerActiveDisabled.backgroundColor]:[styles2.activity.containerInactive.borderColor,styles2.activity.containerActive.backgroundColor]})},common.ReactNative.StyleSheet.flatten(style)??{}],onPress:toggle,onAccessibilityTap:toggle,onPressIn:function(){return!disabled&&setPressing(!0)},onPressOut:function(){return!disabled&&setPressing(!1)},accessibilityRole:"switch",accessibilityState:{checked:value,disabled},accessible:!disabled,collapsable:!1,disabled:!1},common.React.createElement(common.ReactNative.Animated.View,{style:[styles2.all.ballBox,{transform:[{translateX:ballPosVal.interpolate({inputRange:[0,1],outputRange:[0,containerSize.width-containerSize.height]})}]}]},common.React.createElement(common.ReactNative.Animated.View,{style:[styles2.all.ball,{backgroundColor:ballPosVal.interpolate({inputRange:[0,1],outputRange:disabled?[styles2.disabled.ballInactiveDisabled.backgroundColor,styles2.disabled.ballActiveDisabled.backgroundColor]:[styles2.activity.ballInactive.backgroundColor,styles2.activity.ballActive.backgroundColor]}),transform:[{scale:isPressing?pressScales.pressed:pressVal}]}]})))}const{showUserProfile}=metro.findByProps("showUserProfile"),{fetchProfile}=metro.findByProps("fetchProfile"),UserStore$2=metro.findByStoreName("UserStore");function SmartMention(param){let{userId,color,loadUsername,children}=param;const[loadedUsername,setLoadedUsername]=common.React.useState(null);return common.React.useEffect(function(){return!loadedUsername&&loadUsername&&(UserStore$2.getUser(userId)?setLoadedUsername(UserStore$2.getUser(userId).username):fetchProfile(userId).then(function(x){return setLoadedUsername(x.user.username)}))},[loadUsername]),common.React.createElement(Text,{variant:"text-md/bold",color:color??"TEXT_NORMAL",onPress:function(){return UserStore$2.getUser(userId)?showUserProfile({userId}):fetchProfile(userId).then(function(){return showUserProfile({userId})})}},loadUsername?`@${loadedUsername??"..."}`:children)}metro.find(function(x){return x?.WebView&&!x.default}).WebView;const Svg=metro.findByProps("SvgXml");metro.findByProps("isJoi");const Reanimated=metro.findByProps("useSharedValue");metro.findByProps("FlashList").FlashList,metro.findByName("create"),common.ReactNative.NativeModules.MMKVManager,common.ReactNative.NativeModules.DCDFileManager??common.ReactNative.NativeModules.RTNFileManager,common.ReactNative.NativeModules.BundleUpdaterManager,common.ReactNative.NativeModules.DCDSoundManager,common.ReactNative.NativeModules.RNFSManager;const OhFuck=function(prop){return function(){return common.React.useEffect(function(){toasts.showToast("Uh oh, something broke! Search for fckp in Debug Logs!"),console.warn(`Uh oh (fckp)!!
Missing the redesign component: ${prop}. Please bug @nexpid about this on Discord!`)},[]),null}},OhFuckFunction=function(prop){return function(){return toasts.showToast("Uh oh, something broke! Search for fckp in Debug Logs!"),console.warn(`Uh oh (fckp)!!
Missing the redesign function: ${prop}. Please bug @nexpid about this on Discord!`),null}},findThing=function(){for(var _len=arguments.length,props=new Array(_len),_key=0;_key<_len;_key++)props[_key]=arguments[_key];var _findByProps5;return(_findByProps5=metro.findByProps(...props))===null||_findByProps5===void 0?void 0:_findByProps5[props[0]]},findThingRequired=function(alt){for(var _len=arguments.length,props=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)props[_key-1]=arguments[_key];return findThing(...props)??alt(props[0])},Button=findThingRequired(OhFuck,"Button");findThingRequired(OhFuck,"RowButton"),findThing("Slider"),findThingRequired(OhFuck,"FloatingActionButton"),findThingRequired(OhFuck,"TextInput"),findThingRequired(OhFuck,"Tabs"),findThingRequired(OhFuck,"SegmentedControlPages"),findThingRequired(OhFuckFunction,"useSegmentedControlState");function Modal(props){return!Navigator||!modalCloseButton?null:React.createElement(Navigator,{initialRouteName:props.mkey,screens:{[props.mkey]:Object.assign(utils.without(props,"mkey","children"),{headerLeft:modalCloseButton?.(function(){return popModal(props.mkey)}),render:function(){return props.children}})}})}const{ScrollView:ScrollView$1,View:View$3}=components.General,Card=function(param){let{label,error,clear}=param;const styles2=common.stylesheet.createThemedStyleSheet({main:{backgroundColor:ui.semanticColors.CARD_PRIMARY_BG,borderRadius:8,padding:12,gap:8},middle:{marginLeft:"auto",marginRight:"auto",alignItems:"center",justifyContent:"center"},leading:{alignSelf:"flex-start",justifyContent:"flex-start",alignItems:"center"},trailing:{alignSelf:"flex-start",justifyContent:"flex-end",alignItems:"center"},upIcon:{width:24,height:24,tintColor:ui.semanticColors.INTERACTIVE_NORMAL},androidRipple:{color:ui.semanticColors.ANDROID_RIPPLE,cornerRadius:8,foreground:!0},androidRippleRound:{color:ui.semanticColors.ANDROID_RIPPLE,cornerRadius:2147483647,foreground:!0}}),[expanded,setExpanded]=common.React.useState(!1),[gone,setGone]=common.React.useState(!1),short=common.React.useMemo(function(){const lines=error.split(`
`);return lines.length>1?`${lines[0]} \u2026`:lines[0]},[error]);return gone?null:common.React.createElement(common.ReactNative.Pressable,{style:styles2.main,android_ripple:styles2.androidRipple,onPress:function(){setExpanded(!expanded),common.ReactNative.LayoutAnimation.configureNext(common.ReactNative.LayoutAnimation.Presets.easeInEaseOut)}},common.React.createElement(View$3,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"}},common.React.createElement(View$3,{style:styles2.leading},common.React.createElement(common.ReactNative.Pressable,{android_ripple:styles2.androidRippleRound,onPress:function(){common.clipboard.setString(error),toasts.showToast("Copied error",assets.getAssetIDByName("toast_copy_message"))},style:{padding:4}},common.React.createElement(common.ReactNative.Image,{source:assets.getAssetIDByName("ic_message_copy"),resizeMode:"cover",style:styles2.upIcon}))),common.React.createElement(View$3,{style:styles2.middle},common.React.createElement(Text,{variant:"text-lg/bold",color:"TEXT_NORMAL",align:"center"},label)),common.React.createElement(View$3,{style:styles2.trailing},common.React.createElement(common.ReactNative.Pressable,{android_ripple:styles2.androidRippleRound,onPress:function(){clear(),setGone(!0),toasts.showToast("Cleared error",assets.getAssetIDByName("trash"))},style:{padding:4}},common.React.createElement(common.ReactNative.Image,{source:assets.getAssetIDByName("trash"),resizeMode:"cover",style:styles2.upIcon})))),common.React.createElement(common.ReactNative.Pressable,{pointerEvents:"box-none"},common.React.createElement(components.Codeblock,{selectable:!0},expanded?error:short)))};function ErrorViewerModal(param){let{errors,module,clearEntry}=param;return function(){return common.React.createElement(Modal,{mkey:"error-viewer",title:`${module} Errors`},common.React.createElement(ScrollView$1,{style:{flex:1,padding:12}},common.React.createElement(View$3,{style:{gap:12,flexDirection:"column"}},Object.entries(errors).map(function(param2){let[label,err]=param2;return common.React.createElement(Card,{label,error:err,clear:function(){return clearEntry(label)}})}))))}}const{FormRadioRow}=components.Forms;function ChooseSettingSheet(param){let{label,value:_value,choices,update}=param;const[value,setValue]=common.React.useState(_value);return update(value),common.React.createElement(ActionSheet$1,null,common.React.createElement(ActionSheetContentContainer,null,common.React.createElement(ActionSheetTitleHeader,{title:label,trailing:common.React.createElement(ActionSheetCloseButton,{onPress:function(){return hideActionSheet()}})}),choices.map(function(x){return common.React.createElement(FormRadioRow,{label:x,onPress:function(){return setValue(x)},selected:value===x})})))}function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),Constructor}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const{View:View$2}=components.General,{FormRow,FormSwitchRow,FormDivider}=components.Forms;var ModuleCategory;(function(ModuleCategory2){ModuleCategory2[ModuleCategory2.Useful=0]="Useful",ModuleCategory2[ModuleCategory2.Fixes=1]="Fixes",ModuleCategory2[ModuleCategory2.Fun=2]="Fun"})(ModuleCategory||(ModuleCategory={}));const moduleCategoryMap=[{category:0,title:"Useful",icon:assets.getAssetIDByName("PencilSparkleIcon")},{category:1,title:"Fixes",icon:assets.getAssetIDByName("WrenchIcon")},{category:2,title:"Fun",icon:assets.getAssetIDByName("GameControllerIcon")}];let Patches=function(){function Patches2(){_class_call_check(this,Patches2),_define_property(this,"store",new Array)}return _create_class(Patches2,[{key:"add",value:function(patch){this.store.push(patch)}},{key:"unpatch",value:function(){this.store.forEach(function(x){return x()}),this.store.length=0}}]),Patches2}();var ModuleErrorLabel;(function(ModuleErrorLabel2){ModuleErrorLabel2.OnStart="Start Function",ModuleErrorLabel2.OnStop="Stop Function"})(ModuleErrorLabel||(ModuleErrorLabel={}));let Module=function(){function Module2(param){let{id,label,sublabel,category,icon,settings:settings2,extra,handlers}=param;_class_call_check(this,Module2),_define_property(this,"id",void 0),_define_property(this,"label",void 0),_define_property(this,"sublabel",void 0),_define_property(this,"category",void 0),_define_property(this,"icon",void 0),_define_property(this,"settings",void 0),_define_property(this,"extra",void 0),_define_property(this,"errors",{}),_define_property(this,"handlers",void 0),_define_property(this,"patches",new Patches),this.id=id,this.label=label,this.sublabel=sublabel,this.category=category,this.icon=icon,this.settings=Object.fromEntries(Object.entries(settings2??{}).map(function(param2){let[x,y]=param2;return"default"in y&&(y.icon??(y.icon=assets.getAssetIDByName("PencilIcon"))),[x,y]})),this.extra=extra,this.handlers=handlers}return _create_class(Module2,[{key:"callable",value:function(val){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return typeof val=="function"?val(...args):val}},{key:"storage",get:function(){var _a,_b;const options=Object.fromEntries(Object.entries(this.settings).filter(function(param){let[_,x]=param;return"default"in x}).map(function(param){let[x,y]=param;return[x,y.default]}));(_a=vstorage.modules)[_b=this.id]??(_a[_b]={enabled:!1,options});for(const[k,v]of Object.entries(options)){const opts=vstorage.modules[this.id].options;typeof v!=typeof opts[k]&&(opts[k]=v)}return vstorage.modules[this.id]}},{key:"component",get:function(){var _this=this;return function(){var _this_extra,_this_extra1,_extra_;const[_,forceUpdate]=common.React.useReducer(function(x){return~x},0),[hidden,setHidden]=common.React.useState(!0),styles2=common.stylesheet.createThemedStyleSheet({icon:{width:18,height:18,tintColor:ui.semanticColors.TEXT_NORMAL},row:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:12},rowTailing:{marginLeft:"auto",textAlign:"right",paddingLeft:16},androidRipple:{color:ui.semanticColors.ANDROID_RIPPLE,cornerRadius:8}}),extra=[];return!((_this_extra=_this.extra)===null||_this_extra===void 0)&&_this_extra.credits&&extra.push({content:["Additional credits go to: ",..._this.extra.credits.map(function(x,i,a){return common.React.createElement(common.React.Fragment,null,Number.isNaN(Number(x))?x:common.React.createElement(SmartMention,{userId:x,loadUsername:!0}),i!==a.length-1?", ":"")})],color:"TEXT_NORMAL",icon:"ic_copy_message_link"}),!((_this_extra1=_this.extra)===null||_this_extra1===void 0)&&_this_extra1.warning&&extra.push({content:_this.extra.warning,color:"TEXT_WARNING",icon:"ic_warning_24px",iconColor:"STATUS_WARNING"}),Object.keys(_this.errors).length>0&&extra.push({content:`Encountered ${Object.keys(_this.errors).length} error${Object.keys(_this.errors).length!==1?"s":""}`,color:"TEXT_DANGER",icon:"ic_warning_24px",iconColor:"STATUS_DANGER",action:function(){return openModal("error-viewer",ErrorViewerModal({errors:_this.errors,module:_this.label,clearEntry:function(e){delete _this.errors[e],forceUpdate()}}))}}),common.React.createElement(common.React.Fragment,null,common.React.createElement(FormRow,{label:[common.React.createElement(common.ReactNative.Text,{style:{color:resolveSemanticColor(ui.semanticColors[((_extra_=extra[extra.length-1])===null||_extra_===void 0?void 0:_extra_.color)??"TEXT_NORMAL"])}},_this.label),extra[0]&&common.React.createElement(View$2,{style:{paddingRight:12}}),extra.sort(function(){return-1}).map(function(x){return common.React.createElement(common.React.Fragment,null,common.React.createElement(common.ReactNative.Image,{resizeMode:"cover",style:[styles2.icon,x.iconColor&&{tintColor:resolveSemanticColor(ui.semanticColors[x.iconColor])}],source:assets.getAssetIDByName(x.icon)}),common.React.createElement(View$2,{style:{width:2}}))})],subLabel:_this.sublabel,leading:_this.icon&&common.React.createElement(FormRow.Icon,{source:_this.icon}),trailing:common.React.createElement(FormRow.Arrow,{style:{transform:[{rotate:`${hidden?180:90}deg`}]}}),onPress:function(){setHidden(!hidden),common.ReactNative.LayoutAnimation.configureNext(common.ReactNative.LayoutAnimation.Presets.easeInEaseOut)}}),!hidden&&common.React.createElement(common.React.Fragment,null,common.React.createElement(FormDivider,null),common.React.createElement(common.ReactNative.View,{style:{paddingHorizontal:15}},extra[0]&&common.React.createElement(View$2,null,extra.map(function(x){const children=common.React.createElement(common.React.Fragment,null,common.React.createElement(Text,{variant:"text-md/semibold",color:x.color},x.content),x.action&&common.React.createElement(View$2,{style:styles2.rowTailing},common.React.createElement(FormRow.Arrow,null)));return x.action?common.React.createElement(common.ReactNative.Pressable,{style:styles2.row,android_ripple:styles2.androidRipple,onPress:x.action},children):common.React.createElement(View$2,{style:styles2.row},children)})),common.React.createElement(FormSwitchRow,{label:"Enabled",onValueChange:function(){_this.toggle(),forceUpdate()},leading:common.React.createElement(FormRow.Icon,{source:assets.getAssetIDByName("SettingsIcon")}),value:_this.storage.enabled}),Object.entries(_this.settings).map(function(param){let[id,setting]=param;return setting.type==="toggle"?common.React.createElement(FormSwitchRow,{label:setting.label,subLabel:_this.callable(setting.subLabel,_this.storage.options[id]),onValueChange:function(){_this.storage.options[id]=!_this.storage.options[id],_this.restart(),forceUpdate()},leading:common.React.createElement(FormRow.Icon,{source:setting.icon}),value:_this.storage.options[id]}):setting.type==="button"?common.React.createElement(View$2,{style:{marginVertical:12}},common.React.createElement(Button,{size:"md",variant:"primary",text:setting.label,onPress:function(){return setting.action.bind(_this)()},icon:common.React.createElement(common.ReactNative.Image,{style:{marginRight:8},source:setting.icon})})):setting.type==="choose"&&common.React.createElement(FormRow,{label:setting.label,subLabel:_this.callable(setting.subLabel,_this.storage.options[id]),onPress:function(){return openSheet(ChooseSettingSheet,{label:setting.label,value:_this.storage.options[id],choices:setting.choices,update:function(val){_this.storage.options[id]=val,_this.restart(),forceUpdate()}})},leading:common.React.createElement(FormRow.Icon,{source:setting.icon}),trailing:common.React.createElement(Text,{variant:"text-md/medium",color:"TEXT_MUTED"},_this.storage.options[id])})}))))}.bind(this)}},{key:"toggle",value:function(){this.storage.enabled=!this.storage.enabled,this.storage.enabled?this.start():this.stop()}},{key:"restart",value:function(){this.storage.enabled&&(this.stop(),this.start())}},{key:"start",value:function(){try{var _this_handlers;(_this_handlers=this.handlers)===null||_this_handlers===void 0||_this_handlers.onStart.bind(this)()}catch(e){this.stop(),console.error(`[NexxUtils] [${this.label}]: Error on starting!`),_vendetta.logger.error(`[${this.label}]: Error on starting!
${e.stack}`),this.errors["Start Function"]=e.stack,toasts.showToast("NexxUtils module errored on starting!",assets.getAssetIDByName("Small"))}}},{key:"stop",value:function(){try{var _this_handlers;(_this_handlers=this.handlers)===null||_this_handlers===void 0||_this_handlers.onStop.bind(this)(),this.patches.unpatch()}catch(e){console.error(`[NexxUtils] [${this.label}]: Error on stopping!`),_vendetta.logger.error(`[${this.label}]: Error on stopping!
${e.stack}`),this.errors["Stop Function"]=e.stack,toasts.showToast("NexxUtils module errored on stopping!",assets.getAssetIDByName("Small"))}}}]),Module2}();function article(word){return word==="M3"||/^[aeiou]/i.test(word)?"an":"a"}const{FormSwitch}=metro.find(function(x){return typeof x?.FormSwitch=="function"&&!("FormRow"in x)}),Toast=metro.findByName("Toast",!1),Alert=metro.findByDisplayName("FluxContainer(Alert)");function componentify(self,should,origin,property,replacer,callback){const fnc=patcher.after;should&&self.patches.add(fnc(property,origin,callback))}var BetterComponents=new Module({id:"better-components",label:"Better Components",sublabel:"Changes some Discord UI components to their M3 variants (and more!)",category:ModuleCategory.Useful,icon:assets.getAssetIDByName("BeakerIcon"),settings:{switch:{label:"Switch",subLabel(value){return value==="Default"?"Does not modify switches":`Replaces switches with ${article(value)} ${value} variation`},type:"choose",choices:["Default","M3","Tabs v2"],default:"M3"},toast:{label:"Toast",subLabel(value){return value==="Default"?"Does not modify toasts":`Replaces toasts with ${article(value)} ${value} variation`},type:"choose",choices:["Default","M3"],default:"M3"},test_toast:{label:"Show Test Toast",type:"button",action(){const list=Object.values(ui.assets.all),item=list[Math.floor(Math.random()*list.length)];toasts.showToast(item.name,item.id)}},alert:{label:"Alert",subLabel(value){return value==="Default"?"Does not modify alerts":`Replaces alerts with ${article(value)} ${value} variation`},type:"choose",choices:["Default","M3"],default:"M3"},test_alert:{label:"Show Test Alert",type:"button",action(){alerts.showConfirmationAlert({title:"Hello world!",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean elit mauris, maximus vitae rutrum et, pulvinar ac neque. Aenean nisi justo, fermentum egestas luctus a, faucibus ac orci.",confirmText:"K",onConfirm:function(){return new Promise(function(res){setTimeout(res,5e3)})},cancelText:"Ok",secondaryConfirmText:"Okay"})}}},handlers:{onStart(){componentify(this,this.storage.options.switch==="M3",common.ReactNative.Switch,"render","after",function(param){let[x]=param;return common.React.createElement(CustomSwitch,x)}),componentify(this,this.storage.options.switch==="Tabs v2",common.ReactNative.Switch,"render","after",function(param){let[x]=param;return common.React.createElement(FormSwitch,x)}),componentify(this,this.storage.options.toast==="M3",Toast,"default","after",function(param){let[x]=param;return common.React.createElement(CustomToast,x)}),componentify(this,this.storage.options.alert==="M3",Alert.prototype,"render","after",function(_,ret){return common.React.createElement(CustomDialog,ret.props)})},onStop(){}}});function TextBadge(param){let{style,variant,children,shiny}=param;const[width,setWidth]=common.React.useState(0),styles2=common.stylesheet.createThemedStyleSheet({main:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:2147483647,paddingHorizontal:6,paddingVertical:3,backgroundColor:ui.semanticColors[`REDESIGN_BUTTON_${variant.toUpperCase()}_BACKGROUND`],color:ui.semanticColors[`REDESIGN_BUTTON_${variant.toUpperCase()}_TEXT`],marginTop:3,overflow:"hidden"},shiner:{position:"absolute",width:7,height:80,backgroundColor:"#fff4"}}),shinyTranslate=Reanimated.useSharedValue(0),randomness=common.React.useRef(1500+Math.floor(Math.random()*696)).current;return common.React.useEffect(function(){width!==0&&shiny?shinyTranslate.value=Reanimated.withRepeat(Reanimated.withSequence(Reanimated.withTiming(-width,{duration:0}),Reanimated.withDelay(randomness,Reanimated.withTiming(width,{duration:800,easing:Reanimated.Easing.inOut(Reanimated.Easing.cubic)}))),0):shinyTranslate.value=500},[shiny,width]),common.React.createElement(common.ReactNative.View,{style:[styles2.main,style],onLayout:function(layout){return setWidth(layout.nativeEvent.layout.width*.5+4)}},shiny&&width!==0&&common.React.createElement(Reanimated.default.View,{style:[styles2.shiner,{transform:[{rotate:"-22deg"},{translateX:shinyTranslate}]}]}),common.React.createElement(Text,{variant:"text-xxs/bold",color:"STATUS_DANGER_TEXT",align:"center",style:{textTransform:"uppercase"}},children))}var lockAnnouncements="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPDSURBVHhe7Zs9aBRBFMdnLmC0Symx0SZgo/iBaGkTRcjtiUUuNqJCAlqJnYVgZSVWCaQQS+8K8TYhounsVLBQsLEQK0tJ6Ql3z/dm315O72bvNjeb2b17P7jsm93jduc/8z6GnShBEARBEARBEARBEARBEHbRfMwFC8HieXyiZQXqDDbXN8P6WnTFH94FMqIoXVYKbmitZ/m0AlC/N8PaIW56w4tA5WDxKCh1Bc0VFOVEdLaXjUbN+wDu2wNUKkszLWhfx1sGWqt5Pp3I2AtUqVydbsP0ZdAQKNBLKMxBvjQUYyuQLa6kZawEiuKKXh5VlG4KIRC5SQsO3EZzBb8+R25CGQbbTzHLPDBfQnDWfE4KuHshDwKV+NgXmhUozkfs+Cp1Po4hfLxHdoxrcfKCVSCaOZiKQ1vH0wbcomIViNzK96yg0oBNbyS5GMYcv7ShnWeB9Bwb3uBq2ytWgfIRY3TAhjeSXMw7OEjzUdHpj1wLxLz0GaxzLxBm0tkWQN2XSEWYQcbVWtB+58PdrKV8uVLFJJJM91JgmO+7AJc52/g3xBu/LunSTqPxYocvZULhBHJNv3VlN4VwsSzpt67sZuIFIpJqPhFoACLQAESgAVgF4ug+8STMIPjGxkST5GLrfJxorAJN6T/PAOALNycWq0CNxqsmlsmBTaRJiVFJLqY2wvoPnEnnUKS7JFQsSlyekz3uWNdiaSnqWizG9g4ucQYJ+yEQqAooeF7UmJW5QBthLdxs1G9N6eaMEQvUdpHE2jcXo6xoxAprl7SC43Hg58u5xUsMouxI+w/xcxJFusCnc4n/IE2bNnOMM4FscYU2QbDZA+0e0Urf5GYucTiD4Bcb/0Bb8NjsAQsn66tlFPwx/jlGH5/xylmhuBBU39LrGW52wI79xMM1jDfvozMRvKnzK7334lMdqCygzMfNDua1j9lHnX6/4yBshaJDgRbvYGdXudkDpXc8fMIbfkABjqBt3QJMgft/QbvZ3TGbvI04DZkLxFv1vvebEWkgV6Lsxs2B0MBgN56MOqMyX2pEq3+NDzsa+BsP2RwKKhdQ1otZFZ9O0zwVgia47hGKPfQb3Bwackcc/moWIjmvg+gNZZR10j2sLTAPSyQs3OdmKpIypHOBCJr2ZjlhFqkmi1mh6yToKOLE0H33NoP1Fhs9OAvSNjh4n0LzNN7tLKZoymCEyWgl3XxD8YvPOaEcVAMcnLVhEgYKuo0L6bLtGTIXyBc0MOb/RJTCxAGHsatmEzxfZrfSWyjOI9cDJAiCIAh5QKm/vaSWFvD0Q5EAAAAASUVORK5CYII=",warningAnnouncements="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPVSURBVHhe7Zq/TxRBFMdntrGwNLETExNDJwVUWhgtTESPMxRwBQlaaUjUzkT/AQsrKQxUhMTitOI4QmOhNiYmWGCFjY0dnYkWNozft/v2XLib/QG7O3Pe+yST2be3sDvfe+/Nm9tRgiAIgiAIgiAIgiAIgiD8Q3PvBY1maxrdnFLmJvrP3c6bmfADhzgXqNGcn0Q3j7aotT4bnmSMMVMQ6QubTnAiEEQ5h24BrQVRLoUnjwBx9gNlLnQ6b3/zKSfUJlCzOXf6QOkFpfU8bnqNT1uBQA/gPatsOqNSgSJRgqs4RF4hb1Gnwg8ygDhfIc4Em06pRKBksj2aV/LgQ+6JKU0gzisP0fqSbRGMUu+7G+3rbDonU6Be7lBqCZePU5gYo/5gKMv4lp9EV4UC7doSbhF8yT0xAfcDIa+AOJ8w8BUafJxDol4/Ci9iyhCH2ebeC6wCkeeg27INPG/CLQq85wcfeoFVIAqrEr0iF1Ho+kVaiCHn1At5JSd7b0gRSI/zQd1QieANVoGqyjE5qN1z00gLMSdQ3uNC0wu8EyjCrPmSi7wUCF5ElfiWDyJ56kFRqKHbcR1u1qXGzJ0WlkXpbG60e3+f5/rjQqt7dK/QdgJl9ur8jWgoBKqSQevKJN6GWF0MWlcmGXmBiLSaTwTKQATKQATKwCqQjz89uCDFg8w3Phhp0kKMCrORxyoQKtbXXMGONFaBuJy/bRNpVHJUWoiFP6DDky7Tqxh6XxWLEpfn4UX/OZnvxfIyrGuxmOS6MkmqBwk1CIRwvIW2Pqw5q3KBup32NtrdQB2cicQy3WESq7YQo1kxEou21ZmLYeIfgjLCSQ6i2RFtFW2CvIpPe4kPSZo2V3lLaQLZ8gpvghgIvbXQWi2y6SUlepD5yQeH4C14Nmjf0UCQn16gjaFNoT1zla9KKxThDZta6wabPTCwfXTTyDeHttTxxqzv/A7sEPDGdZr52OyBe0zikWkXW+79jnmxFYplCnQfg11hsw9aqmDk73DLXVj0QnCJ3331QV5zVNAkyV1vtv9RlMoFSvOIIlAo0ezGZib0xWAYL0/qUZUvNaLVv77H5gnQT/kgF1QuQNYrVRWfpU7zVAhSQmWzMJx7Cu9R5HCcrUKk0usgPOxziIQqudjD2hJzXiJhzWM2C0FhzYd9lC4QwW5PywmaqmkWs0Kfk6AnESeG7ov/dRwPbnPfR2lJOo1oelY3cLtx3HEMqvyCvQf7AxaxH8vejBDtCDFreSYMml0Dc9CwPUMtArkgUQrQWu88fTnJmQ6eRmHVDpRZLvsLEgRBEAQfUOovqUicxkwt8v4AAAAASUVORK5CYII=",lockForum="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUMSURBVHhe7ZxPiFVVHMfPmdnYpoWIIQbOJv9kmLQwF7kIbCOMAxGjSIsCxaWg2SIMIl1VChK0yP7oRpoW0ettB1okWe4URsfcKAjRLFq0aZDmnb6/974vmN49596595z7u8O7H7ic87sD9573fb/zO39+541paWlpaWlZt1iWSZl5/chTvRV70Bi3D+azuJ7HNSV/s9Y+LaVz7i8Uf+KS8u7gsosTk26+893c37BVSCbQ9MyRbShmcb0BEUSYUkC4W93O3Ms0aye6QNMzR6eNdSessdO8VRmINAWRHtGslWgCwWP2o7hcxVuy0PagCZalkfgCcb6GMDdji0NOsVShkkDSnXor5iGEeYu3ouKM68J7fqGpQmmB4DVnrTU/QJzNvBUfZzqsqVFKIIhzEcJ8RDMl8yzVWLNAjDenaSZlYtIssarGmgSCOOdTxZssNCeIQwoLJAEZ4pyjOTYUEgieg1mx+4LmWFHMg6z5NOlo1WByBYL37I+5bFhvFPGgyyzHkqBAfe9Js3xYN+R50EmWY4tXIFmEwnuO0hxbvAINdgDNhoE1vgS6WH97dOzxC2TNi6yNNX6BnHmONTUkDrKqRqCLmY0s1eitGPXZu1cgjGD9dIwudg8raoQ8qAV4BWIiT4tlvP9Ct/NNl7YaIQ96yLJORJhLuHZ2O3Pv854qfoGs+YO1WpAMBoU5o5UkzMIvkDM/sZYUiLKE63j3+7nDTRJmSKiLJRcIwiyi2AdhvhzcaR7e1LNM0lzPymmLJOsxiHMLxWwRrxls+ZpZtPYAJ7AbucMpMUsGE4mXciLkBq75mJ4YzM2jYZLiiZ7FEM+ZmDQv5WUt+gchjDu31j0piWfG2SsxRsE8gWTD7CbNKEAcyXVJt/J+y/JeFJUPQtBLT+FdpdPXkywz+e3+wuPtO3YfQkO38lYMDqLBC6yPAHHO4n3XcEm3qoS0G9eb+AxP8Fl+5u01EQrSQ6KdrsA3ein0bbJLS0o7ZtzbIM+UZ5dZ/OYKJB8IH+wqzdJI10Lc8SYeKU6yrK08G4vfz2gWpogHCR/gWh5US/OeLyizWyVPacs78K6LNAtRSKBQQC0Cvec6zVWgwTIQfEgzOXjXaXknzVwKCYQHnkdRJS58HhjSJe9W99534XiUK5CIA9WrHlrIzOvzQETte994507Eo2M0gwQFiiEOuteiv4s6zdMi77AM4hUokucImcM6nr9Nw3uGiBehDbmxKFOgiOIIsj7KQg6Za3OApZcRgRIclMqeNcvCU5sCbRj1IOtOsBaL31mupgFppSJtCAbpGAQOYqqnldBT+j+oCTEqkLNXWIvBsm/+g8Y1IK2UP/8aEUj2UDA0H5fhmbfKIptZn7A+Av6mmTUZkrt8iv5rn6JgpLwnQy1NFfAlLWGO9gzNTJLHIC/WPGBND2t+Zc2LnkA1ZU2COHObNS96AhnzLUtFrGzJBlETSNZniAG5DUyLu8OKF00PAvYCK1psYelFVSBOKTS9KPcUr7IH9ZGkQNXt3FJgmiFbsMEVfTDtUwdMLT1BY1/jrbp5ZdfuF766f2/hH9qrUBdIkJwVRJqCSHt5qzbwzk2uZxza8CNvrUJtJp0F3D1p6ieALIvk6M3IzmcTYtB/oIFvo6Hvolp3TJJFa+YGXqMEEiDSxxDpVf050oBGdbH/U/Z0Rwm8XazRAg1BbBr+oxT5rzEyLA/PB1VFhJHZdKUTIC0tLSUx5l8j67Xj2Zz5iAAAAABJRU5ErkJggg==",warningForum="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAVKSURBVHhe7ZvPi1RHEMe7DOSyEPCSgBgPC/EHK4kheggxuEiCXmZnL8l4CAqLJH/AYshFD14MSnJJjioahDiednZOHgJKQkLU4M8BzUmCBMwhhoAHc5hKVXdFZp6v+/2Y96pfcD4w29W9Q8+b76uuru5+Y6ZMmTJlypT/LSBlrSwsdl5ChHlj8G0DsM4gztEHv4LGzNAlzACYFxHxEbU9praH9J4BvecOXd0Varu+utL9W7pSpzaBWgsfbqAv2iGzAwBvudZykHi/UNElo9tfvfCba9WhcoFai51dBs0yidKSpspANP9Q8UG/d37VtdTPGiknhoVptTvXwMClOsRheCjaYarIxB5k44uBr6ij/dJUG9aDcPia5jCbyINa7X0LNJwGGuI48EvtGFRaIBpOh8jle+T366WpXhAf0Ocdk5oapQQicY5RnDkuVRVo+j8aY7ovHINai/vO6g0pB0/z/V53u1RVKeRBdlgpi2MBsyyWOrk9iAOyjTnK0ND6pr9y/oBU1cnlQTYrNnhGqmrYaX04PCzVKOQbYgBfU1BeKzVF9Kf1JJkCcYZcV2YcJNK0niTbg9B8IZYqsab1JMEgbb2H1lZSVSPmtJ4kw4NgSQxdIk7rScICIarHHus9K93LUo2OVyAJzhFmLjgqRiPwexCavWLpgsMbYjWC0BCbk1INTgxj5z1JQgKtk1INt2PYLEICzUqpCu9QitkIAgLBjBiq0DDjk5DGEPKgOADsFKsReAUCg3+IqQtihNTCj1cge8KpDJ+u0p2JsvbzERpiv0upAonTpz/bmpRFMyGBvpeyVthrKDC3aXG60LQciPELBOaKWPWB+ID+zmseJRfFu93hnsgw9+taj/GilBLD3Xn2fEYehHiXXpzAzvJ1cebNk8nIEyE/0OtilZ6YsR9UzxFPXnHsya3BIyRGoadDbDwzcLIKzwwL1O68Thd3U6rVQMOKvsA7obvMn0vF6aLCJOEbQcUSxbdbrqU4oSBtuGP5kMpAMB9liHOI7tvVScVhXB9w1fVZjqBAlgp390jsz0PTuB3SAMerXLRyX9wn9y1NhcgUiL8QH95JtTwZpxR1H2lz32VEyvYgZjg8zDOG1EoROqXQOtK2IrU7hY6SgkF6FOr4T3LVclM+ec9qr/uq1Magfikgc8zR2wtCg/N5M/ZcHsSqlxaHIO85J2YaNFvpbpQBmnN5950yBRJxPpNqWb6Vcgz3QMTks1VhANbn3XcKClSFOJwm+PMQPCJGDD6RMohXoIo8h+/WQKwxePkQxXsE/mwX/8KkClSZOAyvj9Jwa6vY7JHSyzMCSVyoRhzHz1Im4YVnbDKvIcWD8KAY1YD4l1hJ1I+VklCO86aYXoJBugpgDfgEinKsNAoaeFlMLykCwUkxJoZmsEf+LY04x0qj5Mm/nhGI91Doi33M2a80lUKWJoG0Hh+LEY08y6fcS42qoZnyWsxp3hJYAv1H7TEogOqpSRq0BLouppeYAqmcmmSQmsSOEk8gxK5YEYGfxPASTSDedq16O7c4eF8MLzGHGNGsx+3SiCqQpBTxvAggc789sgdZlibdzi2L3YJd7OySaiovSBmNX+8NHm7aPPeEcqL3pUkVQPPepi1bT927O3giTWNEF4ghkX7cuHnrLN3RN6RJDwA+Yge6hu+kZYxomXQadR/9+LBD3PNr6ibEoKfwD+coaH+qHZPsotWzgdcogZh+r3uC7umO+DmSo3ECMbzJT6/t5EltDaHcEEvP7BsVg3zI80F76LWTvgj/AsA+H+T+Wx43lPE2qbDctEf/pkx5LjDmX/op/PT4zdLQAAAAAElFTkSuQmCC",lockImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQwSURBVHhe7Zy/TxRBFMdnjkYt7CRGEyujjTEW8gegVsYT4hWAGoOVSiOVjYkREysstCGx0pCYOwoMeIlWyB+AhTFWlBYUWmlhLDzG75t5J4LM/pjdO2Z355MsOzM7M+F9efPmx+0hAoFAIBAoLJLviaiPjA3jdgPNzgqpjkkhD5onfqOE+iGU/ILUB2Tn28sLq+ZJPIkEgjAnUHVOSnGeiwqNUmIFP6cg1DoXWYkVSHuNFEtF8ZakGK8So3HeFCmQ9hwp1somThcWaSjKk2p8t4BhVVJxCGObnOPsrlg9iIaWlPI9Z0uNUuqcbahFeRBmq8pgtTVCIEzllcFuq10grHM4lQi46Qamz1lcM7g+c/FfqIyfoY7a4GI/iLDVKlCa4KwN3qydaS+37uF62BkQQ1oIzBL6QprK6BnVobo+iRRlqzVIXx4dV5yMBQJMw/BnnE1EfWT8LhaeTzm757xZau2qRcw0nxT1lRMpcGnTf3ISSA5yIgUubfpPXh70iRMpcGnTfzILhGD7Ms3uuAu1obac9RZngRCYMW3rFehNLkoNtaU+qC8u8g4ngcggM22n95ydUB+8LPBSJFcPWnz7uvWL05nhvhZNzi9yCtLlxVWgxsUr4/s4nRnuq2FyfuEkEFbApwY6Yo3PqDNBfVBf1CcXeYXzECOD6LwIBr7gotRQW+rDV3GIzDEIBk66eBK1obac9ZacgrQ8zYkUuLTpPzkJFDarMZR3s5rTeRAfmLWb3yhP0zZmpkdCqlumgnyO1fKD7uKyXp84JGqbHxGDjujnHmA7D8pFIEKLJOQrJH/iauycmXgrQavlA8hd80kcoucCFZ0enyiWlyBQDN4KhJi1os+KOnLwd03sR/okyqZNrOsfXsYgiHC1vbzQ5Ow2zAyompgEcn0VpzAxKEocgpYSWDJcsh2wUTmuGe198Dryvi0P1KeXu36wacMrD4IBdL6d6AgXe7ltr+bAaHop6nHSU06zf5T3u57ovQfRX7UzIO9wNhYIsS6UuG0+uSWva11IKg5BdakNtdXvCVnwQiDzC6pG2mNcGNkUndpxfXdEt1ViiLP/4cUQMx7gbmQv6akHwXB64wPTNcWH3eG446U4RE8E2ooLC0dNbMBYx3qGxOAqmrRxZy/IfYjpeBLxYiQfs07G1fOF/D0IM0uU0eQx5Dlx9XwhV4Fg+CyMjowneqbalPSRtbdx519yG2IUiCnWcLY05OJBNFvBKyY4WyoyC8Sr0OHucWvZyO5BBQm2rmQSKElQLjoZPUi940RpyTrEDvO9tGQV6InL5/JFwroOqo+Ofd/rr0LZDrH6id2D9Hc8AxFDTH8BtvJExaB5vlcaq0BY36zS/oqzlSVmFlNTep9VYSIF4i3Edd5vVZIYDzJDjU7+qjrcUq0zeFHYt39N4cM6KBAIBAKBoiLEH+tQH9iJyebjAAAAAElFTkSuQmCC",warningImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAR3SURBVHhe7Zw7TBRBGMdnLOzUWCmVnbFBCo2hsbhA7Hgd4ZFQGTqsQKMm9oTCR2WIhZaGk/A46IzkWmNCoTa2VmqlxM5m/H8730I4bmZfc7ezy/6ScW5md4b7/nzzzWMXRUVFRUVFRWGRnMdiZHxmSCgxiY81pD4p5YXggucopQ6Q/UBqweKN3e3GXnAhBrEEGh2buaKEeA1Bhriq0ECwPRg+v9NsfOcqI5ECsddsFMVb4hJ4lRSTUd5kFYg953PZxAkhkSDAgM2TznDeER5WpRSHINvIRi52xOhBNLSkkB+4WGqUUMOmoWb2ID1bnQ4sttqGGE3lpwWjrTaB+jiPh1I/lRLLOqlvXHsI1fG1VbqXq33BaKtRoETBWRs8uNtce0IJrW+xGAc6iWWq09cbC3SvTyLZbDUG6dHxWQT4eECEJRj+gouxGBmbWcQXe87F3NnZXuuohXWaT8AvzpOQpk3PcSXQJc6TkKZNz3EjkBRf+FN80rTJgcwCIf6sJ9kdh1AbastFb0ktEIzbD1agzcY0VyWG2lIf1BdXeUcqgWAQ1jmylsZz2tF9yJru0z9SepDcxJrmLxcyo/uSm1z0CjdBusSkFEjVR8Zmz3EhM7ovVeeiV6QSCCvgazCoFZw2ZkT3oVq6T/9IPcRg0A06L8KW4R1XJYbaUh/UF1d5R+YYBOOm0nhScCCHtlz0FjdBWonr/Ck+adrkgBuBqs1qJKXdrDo5D+LDr8Hw8QkvAR7jwj0q48e8xD8r4eKSHich+4gAdpnKPmA6D3IjEEFHrkJsocvfKNTbp23enmC1rC7ih074JA7RfYEKTrdPFEtLKQXCcKaHBetIS0hznOgz1dGbHrHxdoiRMfh2r4SSnyi483sCdXzhh6b4pZT4h+wp0uGE0M7RBCIeSCnOBpWgMDFIG6nu7jYbb7nqGLyx3cIkcHz1rieJO2j3lWusYJvTD+Pfh2IXKAaZxSH47GgCHnZ0wHb4XC6eOATfG/l8ziuBYPSqTZwQHj7TYTyB59yP8zJUO9SG2nKxI94IpD1CPuJiJOwBCxSr4ohqgtqiD+PRsRcCsSdMmwKrCS2MnOdiFhY5P4EXQRoCzWXxgm7SXQ+imQXui7TPU/AJcC1W3MmLrghEQ4a8AkGwD8bTs7ObUqirqDv2oBDlRHEnD5wPMRIH2W2I0nHKDY5ZpZyKus8XuuFBC3aj5TzEoSepEff5gVOB6EUpGG2NJ7zQq0Xd5wvOhhi8Yg9GD3OxNDjxIA62E1wsFZkF4mCbeJFXFFx4UCGCbVoyCQTv8XqR54KsHrTKeWnJKlA/56Ulk0BYIzxz8YaHzxjXQdgS/MGWINc/hdILT3pzPz9sHkR/45kf+ih0RRfywyZQi/NcoKNQH9ZWZoGk2OBPPYc2s74sH4wC8YvemV/zTYUU3pwRWWcxRHA6mgieHPQK+qW4eP/aFVaBgkcpUkz2WKQ3nHuBVSCCfpvwpIEeDjev9nXGdVAngkVhl/9rCqx9zpf1ZKCioqKioqKXCPEfbK5E9Xmoc6QAAAAASUVORK5CYII=",lock="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHSSURBVHhe7dihT8NAFAbwO0YyJJogUMMQBAoUf8CytagNNccSLApFQDCFRWDIFEzRjSARKHAkBMMUCo1kJOPxbn2UrSscCZ3o5fsl0HeP9iX9cruQKQCYJC1Xp5S9ygIpvaUUFfkVC2GXulxfaUUnnXbrOezZORdQyats82sdaa1mpDWCSL3x753LdutYWr/KydUJJa96qLVucDjT0hpj/sb3FAuLS/nu0+O1tH/kzA4qe1WP3yaQ5d+Q8jvt87asEk3JNfNI0YGUESJ64f7p4IdraUeSnolzYgfxubPKH5tbWQ5wIA85PbUeBGevZu37m7N9+rjh+5YHNwi+b43PoztZjnFlB63IdVj9KxxD6nq4GpH0bMSRgPS8FJGcfr+XMpLUS3p2mDNnUFwQXPSkjCT1bDJ5Bvn+Rr5P+T0+QWp8psxJ+1/CQ1w3c7q3PxxkJneQCYf/n9lNKxzDzDIzw+C/ZfQjRjUpJmB0diYDSnPnxMVnO3tIpwUBWSAgCwRkgYAsEJAFArJAQBYIyAIBWSAgi0wGlPT9clriszO6g3RTigkYnZ3JgMyXWkSqkeZOMrPMTDNbWgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEKPUJ8yyh1kaYt5YAAAAAElFTkSuQmCC",lockBottom="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHNSURBVHhe7dghT8NAFAfwe6uABIXAIJCbgG+AQzGSZgmGLbPooTCICXCQEPAIzMIwJEsTECRYvsAQq0TM4FCYcbzbHl3XlR0JHUkv/1+y9d3L+pL9cz1RBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPBfSK5O8St7Rf5r+1yWFem1YVPTK38/cHEVdG7DYe8XnAvIr1QPiNSFLKdopd85rGbQaV9KayZPrk7gcE45nBNZpiJFC/yb7WJpYynsdR+l/SNnAuLHqkZE57K04pA2i6X1MOy9dKWVqiBXB9CRFBGtdZ8/1/LpSztm+p4kJ84gcyjz7unJckhr1VWftBUEN29m7fu1FVXQT7xzNoY/EBxcadah7cgOorIUMbrxHY4xqnVDljFp94658ogtyzUy8OhZykhaj03dG+fQGTTp/q79IWUkrWeTyzNoZ7e66A3UMT8ydT57VqX9J6NDnFoDTzXjQeZyB5lw+LA9zCocw8wyM0fBj+X0EdN1KeZgcnYuA8py5yQlZzt7SGcFAVkgIAsEZIGALBCQBQKyQEAWCMgCAVkgIItcBpT+fjkbydk53UHUkmIOJmfnMiDzUktrdZblTjKzzEwzW1pMqS/XJoIncM4XGAAAAABJRU5ErkJggg==",lockStage="data:image/png;base64,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",lockText="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANtSURBVHhe7Zq/bhNBEMZ3bUIkkFIiHCoUCQGhAUTBOyCQ6HkARIUQFCAqJApSUEXpyROAeAJqRJUABXTgs0A0EeKfsJcZ/PmIHR93jndmd0/3k6yd3SSX7JfzfJ65tZeu3zQp8XzjMSIdWhgbCmgEKqERqIRGoBIagUpQFejgp4+LrSx7ZLvdjF8c8xq+HCWqAv3utx7QcNtae5RfHGMtWlQFcs5dQ5gzbS0m1ASyWbaCu2aSJYxRoieQM6sIJ3mDMUrUBHLGnUE4gX2NIEoUc5A9iWAC9xZBlCgK5E4jGMMau4UwShQFMqcwjuGs2UYYJSoCwcEOYZpDFv/NdTrvMY0SHYESdTBGRaBUHYxRykFpOhijJFCaDsYoCZSmgzHiAqXsYIy8QAk7GCMuUMoOxlR6LsZdP25sce+moGXhFX770e9ZH3Q6d7CUE+Vzsd2dwOGKLJyzSKQbmAalkkB85yBUY1piD4F4DpqHGBr6lQSi/+YmQjU4D/06cuwnpsGoJNCB9uA+DWv0R/eGK7L8TdLG3sI0KKKnO2w3e2KtmfYk455bXn6I6Uxou5iwQN2X9PY8j+k/nLkyWO48wyxqpJN0sjXYCDGBUq/BRsgJlHgNNkJMIKkarNXNLvOL71CNz0mCOch/F5GS/l1jzVN+WWPeUQn0g5xyS1IoQYFEuohXMebQx4hVEuospt4RFEjEwaZf05jPCL0jIpCEg4VyRRmBBBwslCuKCCThYKE6k4WlhnYXUQvaT4/2s8kFeJVuQeEdpN1F1AL7qXw2slAgvnMQ1pKq+xPJQXWiUCB+nyKsJVX3VyiQdhdRC+xnDfsrxXvDTKKLKHHNqgjkIJEa7BzGMTROh0gkaYEazB1HMIZGZ9KrQEX1ErPQHnxAOBOhO5N+BSqol5wz2/t9xhW6M+lVoOJ6ybzCODOhT4d4zkESZxHDnm/0LJCEg4U93+hZIMUuotKzNW8C1dHBGH8C1dDBGG8C1dHBGI85qH4OxvhM0gL1UvgT+h4FEqmXgjoY4/MO2gO7zX4dDOxgzKFr9jRPh3gTiOx4HWEOr81zzpB+fk/Xb9qaJO0TFy4inI+F7zsvBs4u0n+Yn5N/oY1scNeuf3ipP/yO2dl1zRWafvVxzVkRPYJXB0RzUB1oBCqhEaiERqASGoH+izF/APX/kHthXdLpAAAAAElFTkSuQmCC",warningText="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMrSURBVHhe7Zq9ihRBEMe710SQA0Pd1C8OMRIDA99AX0C40MDQQMHI8OQMDAxOMDx8AzNfwUxEBE2nzTzwgsv6qm5q1tlzPnpvqqo/mB8sU90Hfcx/p+u/VdP24dNnJnU+7b+lSJ8FXWd6mAUaYRZohFmgEWaBRlAXyFZuz1aVqz9uj6aTRVWgU3GseW6tvVJ/IE5cJOUnyD+hoIXfoSBJ1ASCLXUdnprLNGxzka5JoieQsdsUnuUXXZNETSBv/G0K17H2B0VJopeDrL1D0Tref6UoSfQE8v4WRWvA1vtGYZLoCWRM5xaDrfedwiRREYgc7D+38t4f++XyJw2TREegfgdLenshKgLl6mCITg7K1MEQHYEydTBER6BMHQwRFyhnB0PkBcrYwRBxgXJ2MCT4vVjd2PI72OiiKVZgyx3Cf3npl1ff09SK5N+LtTuBNMVO3SvyuzRMhsAtptP1q0VKC/EclDuBAtkDCkSp81BaBAkEifOF9+YN3MBvmmKnSdI0TAbR0x3WuY/WmMc0XAFigFstX9NwlHJPd2RcgzXIPkFV9afLmeAJupFDmYGIPUF978FAnCxqsAY5gTKvwRrEBMq9BmuQS9ICXcRF5R7B1nUL53zzgfEX+rMIcgIJOBg8la/O1oMwvmtd9YCG7MgJJNNF7N623jiK2BERaKCLeHheBxtYU9QVZQQSOMkRyxVFBJJwsFiuOPhLWrqLGAPYklBw2wMswGlqkN4nSKOLGAO8n03ORg5ssbTPDk4n7P5EclBJDAik00WMR9j99Qqk0UWMAd7P6X0FJmn2fhBXF7GNxJqh8OcgiS5ixM6kRJJWq8EmrhkEq0AS9VKsGqyBVyCBeilWDdbAKlBJNVgDbw6SOIsY+Xwjr0CFORjCK1BhDoawCVSigyF8AhXoYAibQCU6GMKXgwp0MIRPoAIdDOETSMZtrtF1DS0HQzgFOqbrCnCbc78HIyTW3AhGgewHClp0zW1CV9dv6pqbceHmvfsUTmRr67P5e3QJvmPcavDN23ehXbte/q2JW+0I1tyfvOaGiJ4wKwHOHFQks0AjzAKNMAs0wizQIMacADGPe+jUDfiBAAAAAElFTkSuQmCC",bothVoice="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAScSURBVHhe7Zs9aBRBFMdnchcrLSzVwkostLIQAxYWRkHJ3QkxFyshNgaEWGpjoYJBLBRETaGgjTkNeJfgFyGNTdRSjZgyhVhamC53Gd/b/Udub3d272N3sxPnB2HmHXfJ3S8zbz5PWCwWi8ViLBJl6hSK53Yqqe4IpUYo/COleJrLN669mplZc5+RDXIoU8WRI9YXpZSD9LONfnbQ/+qoWpf9yz+WFvC0TNCHMjXODA/3k5w3JGU/HvqHUuI8qpkhVUEsp76We01yjuAhD/T4LlQzQ6qC6vX8I5IwiNAIUhNUKJVv0YgwhtAYUhE0VCxPUAe6gtAoEhdUKJbPUre6i9A4EhXEcijzvkBoJIkJGiqOHlZCPEFoLIkIYjk0q1mgrrUdDxlL7IIKxdG9JKe6FeQwsQpylxDqfRYnfN0SmyCsrwKXECYTiyCsryokJ3AJYTLa7Q7+0I167jovINPsMrPV6U3bgglC24JYDs9+t1I+6QatoCxuPWwGWkH/e8vZILZRbKtiBUVgBUVgBUVgBUVgBUVgBUVgBUVgBUVgBUVgBUWg3VoolEYVqqnS6XYHH0j6z9zU5Gy1chWBh06fb3QLcve//QeSup0I3vXUPP8Sqj6MFqSEKqHaygpKD/T8fai28hOlD9Nz0GmUXqT8jpoHKRS1uEB+o/RhrCA+e5OamyJSqXeoepHiEGpeNEIZIwW5uUQ9Q+hBKfUr19+oIvRAueYYql6U+oKaD+MERR0v8V3HoHuOnNDpNZpTF7mIig+jBLnn/c7dxsAPyq1HqL7bCD3oEjq/Zq42/RmhD2MENZ33aw8maQI1MVt77ku4fIRFxbgbtSDlW9QCMagFqZskJ+S8nyZ7tcpLBB4aa7mSVqwSU6gFYlIXG0Dpg6/Z8B1rhB7cU19xA6EH6l7LYd2LMS5Jt8Jy8vn6Rd0FdD4ADemWD1Fq0QpyEl6GoNHpPqoObkJWI3PV6Qs6OW7eCr4bya/P9zceINSiFcTDJaqZwO1CapI+2DyXUvQd0OUcBveUAudKDCf0dr72oF05m3x5AXMlng4Edi2WPFernEAYSs9vhmGZuEHf8yXxXgU1TSR1c6VVKeTB2dp04IK2lViSNDdVavJl+uMf8dCmgInkkk4OQ/bH2pXDxDaK8QSNJJ0iSct4KDW4BfNldcqbn8LTgX6upCPWYd6VJE+SpNRGQL6LTd37K4kJvazO0wHdrmEYseSgVpqWBR3fdG0nB/EIhbXVOP0N7dJjg6i5UhiJCGK6lRQmCL+TlxwdDAb6/eZ2iLWLNcNTeE6ICHvG/c6Hk2PaksOjFU8ke5HDJCaIcRKi+53UntGtp4IgOfPuUN5ZQg4iUUEMv0l6w5cR9sIelFqcwYGXHzQJ7GQoDyNxQQy94XucCxB2yzeUPkjMMv8TaG21N45W00xiSTqIodLo46i8pEvSSND8HRBnnuO0Ft7sUmIqasuiF1IV1M6SJGwUczfr148rIVeSlNJMqoIYSPpAknzLAW4V1B13I8wEqeSgZrBuC1ySZG2LhUldEIN12wDPcEnUqpNPKInrtk0tFovFYrF0jhB/AQXc1Q0zAeO6AAAAAElFTkSuQmCC",warning="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKLSURBVHhe7dihbxRBFAbwmSIQeKqogLTX5EIN/Ac4yOVcQZAgEKDqQCAgFNEEdAkYkiYIaDCXhhosEiSCkmAwtJIEgaDDe7tf093Zt3tHehBm+H7JdebN7e7lXmfm7Z4joj/Jo83SYHjlojTLZeQ2t0YvttGfWLYJGgwv3/DeP0FYCCHc3Bq9fIpwIlkmSJJzSr7aJ+/dcQwVQnA/5O+8JOkLhsaaQZub9Tg5qhzzDxBOJLsZJLPnnCytdwhNstTOyyx6j7BTjjPoGdoukxxTOIY2C9iYryNsJcfMLvT6X3c+fhg7i7JZYsPh8ol95z/Llz+psSyjPWk2tF9xrfr+jAunR6PN78U7LbJJkMyeh/LlbyHUinUpvu/R+yLZqF8j1CQ9kr3oNkJTFnsQyvoKQgi76FTEY36lPLddLpu0Udb9LDoV9TGcs15GtuQTVC4bP0BYEYyZ0RzTc/FIYspgBoU1dGJn0FZZY6L1GmknCGV9CWGkrFZ11lgxi5b0Wghrkk2QlnVpVsvI4N0ceoessUOruGZNsmU+Lusx3AfFe8u2nGPOImWV/SQThLLeeFo/KutpP9UlZj6tH5VV9pNLUHtZr9PZIEvmjrzm8JK+zpBueu1q2U/uYbW32H8lX8K4CYyFu7JU1uSB9Bteb+Xcn3LuBRzQIZyV44tfI5OaQd1lveE52iprrEE/46DsJ5OgsWV9+oqyn0yC9p2/J//Z1hJtuIq2yhoz6WcVn4n4nydTfvd3EoSSfV+6B8tKkqNJnrz6yca+l22CpkETlNImHf86+DdsJFPmpey+Wej1daOel5nUeGaaJp050jwe92sjEREREREREREREREREREREREREREREdH/xrlf72TJx6GhEa4AAAAASUVORK5CYII=",warningBottom="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALBSURBVHhe7djPaxNBFAfwNwo5KUUR9aYX0wrVi/4HFcFDTVEk4p/gTSlS9NCTYBEVpMV/oTn4IwYvov4PoqLmphfFi4o3L+N7M9+sm2Q3TdAGZvl+IJl5m90t+zo7b3eEiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIhyHNpKWlxqLoiX8yFw8rDzpPUy9CdQ2QQtNppXnHN3EQbe+6uddusewrFUMkFnG81DXuS1JmgGmwLv5bcTX3/abn3Cpi3tQFspmpzbg8kxzknNfkM4lsqNIJt3nLgXCAt58afGnY+qN4K8rKFXbpx9oFIJ0on5kt5aJxCWsn1sX4QjVeYWW2xc3K0TcFev/mDY4P1XnW8e6yV+D7H4PfplCYxzU/jd1TvtzV8hLrETbfJm5+ZX9eLPIBTvZElL+nr349tX8fPume7zWffBc5HbZbvZbyEuUYlbzMq6NssxAi/f0Mt7g7ZnGceWqkSCYlmXGsLIyX708o6hDcYp+8knKJR15y4g/MvLcfTyDqDN2LHhlaRE+iOotGS7fejkFG1TXtbRG5J0gkaX9VC1Bvgj6PTRc8zZuxvCPskmKJZ1uYOwSB1t3l60RVbtnOhnkn0O0ou5qZPsdYTD4nPQaUSBXuzz7DmpgL7tP9BHg8sIgyQTFN/WXXeocv0je9vX75OapOxxIMlbrLCs/wc4Z996UXIJKi3rA2w02AKZdg7bx/pxhIym517Il/3kbjGtNu+t6iAsVbR6aJVKj+1bZSyix37QY49aP6kRhAvcMjlG//OP0M0UbStif6NX9pNJEMr6NYTTEMp+SiNoZVSJHqQT+Tl0M0XbyugomtEj1pKZg7S0f5koQbFkr/Ruq5gcd2uS6qdz0c9kEqRzwo/4X50eS1BCt5jbQGeK3EYyK4q28lefna85e+GMq4HbJy7H3u+0N29gCxFtB5E/VuHRRZlhv6gAAAAASUVORK5CYII=";const locks=[["Announcements",lockAnnouncements],["Text",lockText],["Voice",bothVoice],["Forum",lockForum],["Stage",lockStage,!0],["Image",lockImage,!0]],warnings=[["Announcements",warningAnnouncements],["Text",warningText],["Voice",bothVoice],["Forum",warningForum],["Image",warningImage,!0]],ChannelInfo=metro.findByName("ChannelInfo",!1);var ColorfulChannels=new Module({id:"colorful-channels",label:"Colorful Channels",sublabel:"Makes channel icons with symbols more colorful",category:ModuleCategory.Useful,icon:assets.getAssetIDByName("LockIcon"),settings:{nsfwTag:{label:"NSFW tag",subLabel:"Adds a red NSFW tag next to channel names",type:"toggle",default:!0},colorIcons:{label:"Colored icon symbols",subLabel:"Turns locked channel symbols yellow, NSFW channel symbols red",type:"toggle",default:!0}},handlers:{onStart(){this.storage.options.nsfwTag&&this.patches.add(patcher.after("default",ChannelInfo,function(param,ret){let[{channel}]=param;return common.React.createElement(common.React.Fragment,{},channel.nsfw_&&common.React.createElement(TextBadge,{variant:"danger"},"nsfw"),ret)})),this.patches.add(patcher.after("render",common.ReactNative.Image,function(param){let[{source,style}]=param;var _getAssetByID;const name=typeof source=="number"&&((_getAssetByID=assets.getAssetByID(source))===null||_getAssetByID===void 0?void 0:_getAssetByID.name);if(!name)return;const warninger=warnings.find(function(param2){let[x]=param2;return name===`${x}WarningIcon`}),locker=locks.find(function(param2){let[x]=param2;return name===`${x}LockIcon`}),img=warninger?{base:warninger[1],overlay:warninger[2]?warningBottom:warning,color:resolveSemanticColor(ui.semanticColors.STATUS_DANGER)}:locker?{base:locker[1],overlay:locker[2]?lockBottom:lock,color:resolveSemanticColor(ui.semanticColors.STATUS_WARNING)}:null;if(img)return common.React.createElement(common.ReactNative.View,{},common.React.createElement(common.ReactNative.Image,{style:common.ReactNative.StyleSheet.flatten(style),source:{uri:img.base}}),common.React.createElement(common.ReactNative.View,{style:{position:"absolute",right:0,bottom:0}},common.React.createElement(common.ReactNative.Image,{style:{...common.ReactNative.StyleSheet.flatten(style),tintColor:img.color},source:{uri:img.overlay}})))}))},onStop(){}}});const UserProfileRow=metro.findByName("UserProfileRow",!1);var NoInviteToServers=new Module({id:"no-invite-to-servers",label:"No Invite to Servers",sublabel:"Removes the 'Invite to Servers' button from profiles",category:ModuleCategory.Fixes,icon:assets.getAssetIDByName("UserPlusIcon"),handlers:{onStart(){this.patches.add(patcher.after("default",UserProfileRow,function(args,ret){return args[0].label===common.i18n.Messages.GUILD_INVITE_CTA?common.React.createElement(common.React.Fragment):ret}))},onStop(){}}});const{convertSurrogateToName}=metro.findByProps("convertSurrogateToName");var RestoreEmojiInfoReaction=new Module({id:"restore-emoji-info-reaction-picker",label:"Restore emoji info in reaction picker",sublabel:"Holding on an emoji in the reaction picker will show the emoji info (like it did in kotlin!)",category:ModuleCategory.Fixes,extra:{credits:["492949202121261067"]},icon:assets.getAssetIDByName("ReactionIcon"),handlers:{onStart(){const silly=new(metro.findByProps("MessagesHandlers")).MessagesHandlers;this.patches.add(patcher.before("render",common.ReactNative.Pressable.type,function(param){let[a]=param;var _a_accessibilityLabel;const emoji=utils.findInReactTree(a,function(x){var _x_type;return(x==null||(_x_type=x.type)===null||_x_type===void 0?void 0:_x_type.name)==="Emoji"});if(!emoji)return;const surr=emoji.props.surrogates;!(a==null||(_a_accessibilityLabel=a.accessibilityLabel)===null||_a_accessibilityLabel===void 0)&&_a_accessibilityLabel.includes(common.i18n.Messages.ADD_REACTION_NAMED.format({emojiName:""}))&&(a.onLongPress=function(){patcher.instead("isModalOrActionsheetObstructing",silly,function(){return!1},!0),silly.handleTapEmoji({nativeEvent:{node:{surrogate:surr,content:convertSurrogateToName(surr)}}})})}))},onStop(){}}});const SpotifyStore$1=metro.findByStoreName("SpotifyStore"),SelectedChannelStore=metro.findByStoreName("SelectedChannelStore"),{sendMessage}=metro.findByProps("sendMessage","revealMessage"),{getText,setText}=metro.findByProps("openSystemKeyboard","getText","setText"),sendInvite=function(){var _activity_party;const activity=SpotifyStore$1.getActivity();if(!(!(activity==null||(_activity_party=activity.party)===null||_activity_party===void 0)&&_activity_party.id))return;const channel=SelectedChannelStore.getChannelId();sendMessage(channel,{content:getText(channel),tts:!1,invalidEmojis:[],validNonShortcutEmojis:[]},!0,{activityAction:{activity,type:3}}),setText.length>=2?setText(channel,""):setText("")},styles=common.stylesheet.createThemedStyleSheet({disabledIcon:{tintColor:ui.semanticColors.INTERACTIVE_MUTED},text:{...TextStyleSheet["text-md/semibold"],color:ui.semanticColors.TEXT_NORMAL},disabledText:{color:ui.semanticColors.TEXT_MUTED}});var SendSpotifyInvite=new Module({id:"send-spotify-invite",label:"Send Spotify invite",sublabel:"Adds an option to send a Spotify Listen Along invite in chat",category:ModuleCategory.Useful,icon:assets.getAssetIDByName("img_account_sync_spotify_white"),handlers:{onStart(){this.patches.add(patcher.before("render",common.ReactNative.Pressable.type,function(param){let[a]=param;if(a.accessibilityLabel===common.i18n.Messages.CAMERA){var _SpotifyStore_getActivity_party,_SpotifyStore_getActivity;const disabled=!(!((_SpotifyStore_getActivity=SpotifyStore$1.getActivity())===null||_SpotifyStore_getActivity===void 0||(_SpotifyStore_getActivity_party=_SpotifyStore_getActivity.party)===null||_SpotifyStore_getActivity_party===void 0)&&_SpotifyStore_getActivity_party.id);a.disabled=disabled,a.onPress=sendInvite;const textComp=utils.findInReactTree(a.children,function(x){return x?.children===common.i18n.Messages.CAMERA});textComp&&(textComp.children="Spotify invite",textComp.style=[styles.text,disabled&&styles.disabledText]);const iconComp=utils.findInReactTree(a.children,function(x){var _x_props_style,_x_props;return x==null||(_x_props=x.props)===null||_x_props===void 0||(_x_props_style=_x_props.style)===null||_x_props_style===void 0?void 0:_x_props_style.find(function(y){return y?.tintColor})});iconComp&&(iconComp.type=function(){return common.React.createElement(common.ReactNative.Image,{source:assets.getAssetIDByName("ic_spotify_white_16px"),resizeMode:"cover",style:[{width:20,height:20},common.ReactNative.StyleSheet.flatten(iconComp.props.style),disabled&&styles.disabledIcon]})})}}))},onStop(){}}}),listenAlong=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
        d="M23.6 28C22.566 29.8307 22.0226 31.8975 22.0226 34C22.0226 36.1025 22.566 38.1693 23.6 40H6V36C6 30.6 16.6 28 22 28H23.6ZM22 24C17.6 24 14 20.4 14 16C14 11.6 17.6 8 22 8C26.4 8 30 11.6 30 16C30 20.4 26.4 24 22 24ZM34 26C38.4 26 42 29.6 42 34C42 38.4 38.4 42 34 42C29.6 42 26 38.4 26 34C26 29.6 29.6 26 34 26ZM32 38.4L38 34L32 29.6V38.4Z"
        fill="white" />
</svg>`,listenAlong2=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24 20C26.1217 20 28.1566 19.1571 29.6569 17.6569C31.1571 16.1566 32 14.1217 32 12C32 9.87827 31.1571 7.84344 29.6569 6.34315C28.1566 4.84285 26.1217 4 24 4C21.8783 4 19.8434 4.84285 18.3431 6.34315C16.8429 7.84344 16 9.87827 16 12C16 14.1217 16.8429 16.1566 18.3431 17.6569C19.8434 19.1571 21.8783 20 24 20ZM23.06 22C18.005 22 13.157 24.0081 9.58254 27.5825C6.0081 31.157 4 36.005 4 41.06C4 42.68 5.32 44 6.94 44H7.38C7.86 44 8.26 43.66 8.38 43.2C8.96 40.96 10.06 38.86 11.02 37.38C11.3 36.96 11.88 37.18 11.82 37.68L11.3 42.9C11.26 43.5 11.7 44 12.3 44H23.76C24.5 44 24.98 43.24 24.76 42.54C23.6396 39.2747 23.7652 35.7105 25.1126 32.5321C26.46 29.3538 28.9342 26.7853 32.06 25.32C32.86 24.92 32.98 23.76 32.16 23.42C29.8689 22.4807 27.4162 21.9983 24.94 22H23.06Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M48 38C48 40.6522 46.9464 43.1957 45.0711 45.0711C43.1957 46.9464 40.6522 48 38 48C35.3478 48 32.8043 46.9464 30.9289 45.0711C29.0536 43.1957 28 40.6522 28 38C28 35.3478 29.0536 32.8043 30.9289 30.9289C32.8043 29.0536 35.3478 28 38 28C40.6522 28 43.1957 29.0536 45.0711 30.9289C46.9464 32.8043 48 35.3478 48 38ZM42.46 37.6L35.8 32.6C35.7257 32.5443 35.6374 32.5104 35.5449 32.502C35.4524 32.4937 35.3594 32.5113 35.2764 32.5528C35.1933 32.5943 35.1235 32.6581 35.0747 32.7371C35.0259 32.8161 35 32.9071 35 33V43C35 43.4 35.48 43.64 35.8 43.4L42.46 38.4C42.74 38.2 42.74 37.8 42.46 37.6Z" fill="white"/>
</svg>
`;const{View:View$1}=components.General,UserStore$1=metro.findByStoreName("UserStore"),SpotifyStore=metro.findByStoreName("SpotifyStore"),{play,sync}=metro.findByProps("play","sync");function ListenAlongButton(param){let{button,activity,user,redesigned}=param;const[_,forceUpdate]=common.React.useReducer(function(x){return~x},0);common.React.useEffect(function(){return SpotifyStore.addChangeListener(forceUpdate),function(){return SpotifyStore.removeChangeListener(forceUpdate)}},[]);const def=common.React.createElement(components.Button,button);let disabled=!1;return SpotifyStore.getSyncingWith()?.userId===user.id&&(disabled="You're already syncing with this user."),UserStore$1.getCurrentUser().id===user.id&&(disabled="Listen along with someone else, not yourself."),common.React.createElement(common.React.Fragment,null,common.React.createElement(View$1,{style:{width:"100%",paddingRight:40}},def),common.React.createElement(View$1,{style:{position:"absolute",right:0}},common.React.createElement(components.Button,{size:"small",text:"",style:[button.style,{width:32},disabled&&{opacity:.5}],renderIcon:function(){return common.React.createElement(Svg.SvgXml,{width:20,height:20,xml:redesigned?listenAlong2:listenAlong})},onPress:function(){if(typeof disabled=="string")return toasts.showToast(disabled);if(toasts.showToast("Syncing",assets.getAssetIDByName("Check")),SpotifyStore.getActivity())sync(activity,user.id);else{const x=function(){SpotifyStore.removeChangeListener(x),sync(activity,user.id)};SpotifyStore.addChangeListener(x),play(activity,user.id)}}})))}const{SpotifyPlayButton}=metro.findByProps("SpotifyPlayButton"),UserProfileSection=metro.findByName("UserProfileSection",!1);var SpotifyListenAlong=new Module({id:"spotify-listen-along",label:"Add Listen Along",sublabel:"Adds a Listen Along button to Spotify activites",category:ModuleCategory.Useful,icon:assets.getAssetIDByName("MusicIcon"),extra:{credits:["1001086404203389018"]},settings:{redesigned:{label:"Redesigned Icon",subLabel:"Uses the new redesigned Listen along icon",type:"toggle",default:!0}},handlers:{onStart(){var _this=this;this.patches.add(patcher.after("render",SpotifyPlayButton.prototype,function(_,ret){var _ret__owner_stateNode,_ret__owner,_aprops_activity;const aprops=ret==null||(_ret__owner=ret._owner)===null||_ret__owner===void 0||(_ret__owner_stateNode=_ret__owner.stateNode)===null||_ret__owner_stateNode===void 0?void 0:_ret__owner_stateNode.props;if(!(!(aprops==null||(_aprops_activity=aprops.activity)===null||_aprops_activity===void 0)&&_aprops_activity.user))return;const ath=ret.props;return common.React.createElement(ListenAlongButton,{button:ath,activity:aprops.activity,user:aprops.activity.user,redesigned:_this.storage.options.redesigned})})),this.patches.add(patcher.before("default",UserProfileSection,function(param){let[arg]=param;var _arg_title;if(!((_arg_title=arg.title)===null||_arg_title===void 0)&&_arg_title.includes("Spotify")){const actions=utils.findInReactTree(arg.children,function(x){var _x_type;return(x==null||(_x_type=x.type)===null||_x_type===void 0?void 0:_x_type.name)==="Actions"});actions&&_this.patches.add(patcher.before("type",actions,function(param2){let[a]=param2;return a.activity.user=a.user},!0))}}))},onStop(){}}});const MediaManager=metro.findByProps("downloadMediaAsset"),ActionSheet=metro.findByProps("openLazy","hideActionSheet"),showContextMenu=metro.findByProps("showContextMenu"),handleClick=metro.findByProps("handleClick","isLinkTrusted"),parseURL=function(url2){const path=url2.split("/"),tenorIndex=path.findIndex(function(x){return x.endsWith(".tenor.com")});if(tenorIndex===-1)return;const[host,id,file]=path.slice(tenorIndex,tenorIndex+3);if(!(!host||!id||!file))return`https://${host}/${id.slice(0,-2)}AC/${file.split(".")[0]}.gif`};var TenorGifFix=new Module({id:"tenor-gif-fix",label:"Tenor GIF Fix",sublabel:"Downloads Tenor links as GIFs instead of videos",category:ModuleCategory.Fixes,icon:assets.getAssetIDByName("GifIcon"),handlers:{onStart(){this.patches.add(patcher.before("downloadMediaAsset",MediaManager,function(args){const url2=args[0];if(!url2||typeof url2!="string")return;const parsed=parseURL(url2);parsed&&(args[0]=parsed,args[1]=1)})),this.patches.add(patcher.before("openLazy",ActionSheet,function(ctx){var _args_syncer_sources,_args_syncer;const[_,action,args]=ctx;if(action!=="MediaShareActionSheet")return;const data=args==null||(_args_syncer=args.syncer)===null||_args_syncer===void 0||(_args_syncer_sources=_args_syncer.sources)===null||_args_syncer_sources===void 0?void 0:_args_syncer_sources[0];if(!data||typeof data.uri!="string")return;const parsed=parseURL(data.uri);parsed&&(data.uri=parsed,data.sourceURI=parsed,delete data.videoURI,delete data.isGIFV),args.syncer.sources[0]=data})),this.patches.add(patcher.before("showContextMenu",showContextMenu,function(args){const[{items}]=args;if(!["OPEN_IN_BROWSER","SHARE","JUMP_TO_MESSAGE"].every(function(x){return items.find(function(y){return y.label===common.i18n.Messages[x]})})||items.length!==3)return;let link;for(const item of items)if(item._action||(item._action=item.action),item.label===common.i18n.Messages.OPEN_IN_BROWSER){const unpatch=patcher.instead("handleClick",handleClick,function(args2){link=parseURL(args2[0].href),unpatch()});item._action(),item.action=function(){if(link)handleClick.handleClick({href:link,onConfirm:function(){return common.url.openURL(link)}});else return item._action()}}else item.label===common.i18n.Messages.SHARE&&(item.action=function(){if(link)common.ReactNative.Share.share({message:link});else return item._action()});items.unshift({iconSource:assets.getAssetIDByName("DownloadIcon"),label:common.i18n.Messages.SAVE,action:function(){return link?MediaManager.downloadMediaAsset(link,1):toasts.showToast("Failed to download gif using NexxUtils",assets.getAssetIDByName("CircleXIcon-primary"))}})}))},onStop(){}}}),modules=[BetterComponents,ColorfulChannels,NoInviteToServers,RestoreEmojiInfoReaction,SendSpotifyInvite,SpotifyListenAlong,TenorGifFix].sort(function(a,b){return a.id<b.id?-1:1});const{Pressable}=components.General,UserStore=metro.findByStoreName("UserStore");function SillyAvatar(){const spinAnim=Reanimated.useSharedValue("0deg"),scaleAnim=Reanimated.useSharedValue(1),rot=common.React.useRef(0),comboTimer=common.React.useRef([0,0]);return common.React.createElement(Pressable,{onPressIn:function(){rot.current+=540,spinAnim.value=Reanimated.withSpring(`${rot.current}deg`,{mass:3,stiffness:250,reduceMotion:Reanimated.ReduceMotion.Never}),clearTimeout(comboTimer.current[0]),comboTimer.current[0]=setTimeout(function(){comboTimer.current[1]=0},1e3),comboTimer.current[1]+=1,comboTimer.current[1]>=5&&(toasts.showToast(`COMBO: ${comboTimer.current[1].toString().padStart(3,"0")}`),scaleAnim.value=1+comboTimer.current[1]/50,scaleAnim.value=Reanimated.withTiming(1,{duration:500}))},style:{marginRight:12}},common.React.createElement(Reanimated.default.Image,{style:[{height:85,width:85,borderRadius:18},{transform:[{rotate:spinAnim},{scale:scaleAnim}]}],source:{uri:getUserAvatar(UserStore.getCurrentUser())}}))}const{View,ScrollView}=components.General;function settings(){return React.createElement(ScrollView,null,React.createElement(View,{style:{marginHorizontal:20,marginTop:20,marginBottom:10,flexDirection:"row",justifyContent:"center",alignItems:"center"}},React.createElement(SillyAvatar,null),React.createElement(Text,{variant:"text-lg/semibold",color:"TEXT_NORMAL"},"NexxUtils v",version)),moduleCategoryMap.map(function(param){let{category,title,icon}=param;const mods=modules.filter(function(x){return x.category===category});return React.createElement(BetterTableRowGroup,{title,icon,padding:mods.length===0},mods.length>0?mods.map(function(x){return React.createElement(components.ErrorBoundary,null,React.createElement(x.component,null))}):React.createElement(Text,{variant:"text-md/semibold",color:"TEXT_NORMAL",style:{fontStyle:"italic"}},`No plugins in the ${title} category yet!`))}),React.createElement(View,{style:{height:12}}))}const ThemeStore=metro.findByStoreName("ThemeStore");function devtools(){const patches=new Array,collected=new Map;return window.nx={get semantic(){const data={};for(const[key,raw]of Object.entries(ui.semanticColors))data[key]=Object.fromEntries(["dark","darker","midnight","light"].map(function(x){return[x,resolveSemanticColor(raw,x)]}));return data},searchSemantic(query){return query??(query=""),Object.fromEntries(Object.entries(window.nx.semantic).filter(function(param){let[x]=param;return query.startsWith("^")&&query.endsWith("$")?x.toLowerCase()===query.toLowerCase().slice(1,-1):query.startsWith("^")?x.toLowerCase().startsWith(query.toLowerCase().slice(1)):query.endsWith("$")?x.toLowerCase().endsWith(query.toLowerCase().slice(0,-1)):x.toLowerCase().includes(query.toLowerCase())}))},findSemantic(hex){hex??(hex="");const theme=ThemeStore.theme;return Object.fromEntries(Object.entries(window.nx.semantic).map(function(param){let[x,y]=param;return[x,Object.fromEntries(Object.entries(y).filter(function(param2){let[k,z]=param2;return k===theme&&z===hex}))]}).filter(function(param){let[_,z]=param;return Object.entries(z)[0]}))},p:{wipe:function(){patches.forEach(function(x){return x()}),patches.length=0},snipe:function(prop,parent,callback,oneTime){const patch=patcher.after(prop,parent,callback??function(a,b){return console.log("[NX]:",a,b)},oneTime??!1);patches.push(patch)},props:{collect:function(key,prop,parent,parser){var _collected_get;(_collected_get=collected.get(key))===null||_collected_get===void 0||_collected_get.unpatch();const ran=new Array,unpatch=patcher.before(prop,parent,function(args){const props=parser?.(args)??args[0],runFor=function(propper,assign){let tree=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!("_value"in propper)){for(const p of Object.keys(propper)){!assign[p]&&ran.includes(tree)?assign[p]??(assign[p]={kinds:["undefined"],stuff:["undefined"]}):(assign[p]??(assign[p]={kinds:[],stuff:[]}),ran.push(tree));const stuff=Array.isArray(propper[p])?propper[p]:[propper[p]];for(const x of stuff){const kind=Array.isArray(x)?"array":typeof x;if(typeof x=="object"&&x!==null){let set=assign[p].stuff.find(function(y){return typeof y=="object"&&y!==null});set||(set=assign[p].stuff[assign[p].stuff.push({})-1]),runFor(x,set,`${tree}${p}.`)}else assign[p].stuff.find(function(y){return JSON.stringify(y)===JSON.stringify(x)})||assign[p].stuff.push(x);assign[p].kinds.includes(kind)||assign[p].kinds.push(kind)}}for(const r of Object.keys(assign))propper[r]===void 0&&(assign[r].kinds.includes("undefined")||assign[r].kinds.push("undefined"),assign[r].stuff.includes("undefined")||assign[r].stuff.push("undefined"))}};runFor(props,data),console.log(`[NX]: Collected new prop for "${key}"`)});patches.push(unpatch);const data={};collected.set(key,{unpatch,get:function(){return data}})},redeem:function(key,save){const coll=collected.get(key);if(coll)if(coll.unpatch(),save)console.log(`DEBUG\0SAVEFILE\0${JSON.stringify("nexxutils_"+key+".json")}\0${JSON.stringify(JSON.stringify(coll.get(),void 0,3))}`);else return coll.get()}}}},function(){var _window_nx;(_window_nx=window.nx)===null||_window_nx===void 0||_window_nx.p.wipe(),delete window.nx}}const vstorage=plugin.storage,version="0.7.1";let undevtool;var index={onLoad:function(){vstorage.modules??(vstorage.modules={}),modules.forEach(function(x){return x.storage.enabled&&x.start()}),undevtool=devtools()},onUnload:function(){return modules.forEach(function(x){return x.storage.enabled&&x.stop()}),undevtool?.()},settings};return exports.default=index,exports.version=version,exports.vstorage=vstorage,Object.defineProperty(exports,"__esModule",{value:!0}),exports})({},vendetta.plugin,vendetta.ui.components,vendetta.metro.common,vendetta.ui,vendetta,vendetta.metro,vendetta.ui.assets,vendetta.ui.toasts,vendetta.patcher,vendetta.ui.alerts,vendetta.utils);
